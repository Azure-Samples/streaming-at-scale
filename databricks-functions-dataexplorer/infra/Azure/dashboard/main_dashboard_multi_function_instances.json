{
	"$schema":"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion":"1.0.0.0",
	"parameters":{
        "DashboardName": {
            "type":"string"
        },
		"LandingStorageAccountName":{
			"type":"string"
		},
		"IngestionStorageAccountName":{
			"type":"string"
		},
        "IngestFuncName": {
            "type":"string"
        },
        "ADXClusterName": {
            "type":"string"
        }
	},
	"variables":{
		
	},
	"resources":[
		{
			"properties":{
				"lenses":{
					"0":{
						"order":0,
						"parts":{
							"0":{
								"position":{
									"x":0,
									"y":0,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('LandingStorageAccountName'))]"
															},
															"name":"Ingress",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Ingress"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('LandingStorageAccountName'))]"
															},
															"name":"Egress",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Egress"
															}
														}
													],
													"title":"[concat('Sum Ingress and Sum Egress for ', parameters('LandingStorageAccountName'), ' datalake')]",
													"titleKind":2,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													}
												}
											}
										}
									}
								}
							},
							"1":{
								"position":{
									"x":5,
									"y":0,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('LandingStorageAccountName'))]"
															},
															"name":"Transactions",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Transactions"
															}
														}
													],
													"title":"[concat('Sum Transactions for ', parameters('LandingStorageAccountName'),' datalake by ApiName = \"CopyBlob\"')]",
													"titleKind":2,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													},
													"grouping":{
														"dimension":"ApiName",
														"sort":2,
														"top":10
													}
												}
											}
										}
									},
									"filters":{
										"ApiName":{
											"model":{
												"operator":"equals",
												"values":[
													"CopyBlob"
												]
											}
										}
									}
								}
							},
							"2":{
								"position":{
									"x":10,
									"y":0,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('LandingStorageAccountName'))]"
															},
															"name":"Transactions",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts",
															"metricVisualization":{
																"displayName":"Transactions"
															}
														}
													],
													"title":"[concat('Sum Transactions for ', parameters('LandingStorageAccountName'), ' by Response type')]",
													"titleKind":1,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													},
													"grouping":{
														"dimension":"ResponseType",
														"sort":2,
														"top":10
													}
												}
											}
										}
									}
								}
							},
							"3":{
								"position":{
									"x":0,
									"y":3,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('IngestionStorageAccountName'))]"
															},
															"name":"Ingress",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Ingress"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('IngestionStorageAccountName'))]"
															},
															"name":"Egress",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Egress"
															}
														}
													],
													"title":"[concat('Sum Ingress and Sum Egress for ', parameters('IngestionStorageAccountName'),' datalake')]",
													"titleKind":2,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													}
												}
											}
										}
									}
								}
							},
							"4":{
								"position":{
									"x":5,
									"y":3,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('IngestionStorageAccountName'))]"
															},
															"name":"Transactions",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts/blobservices",
															"metricVisualization":{
																"displayName":"Transactions"
															}
														}
													],
													"title":"[concat('Sum Transactions for ', parameters('IngestionStorageAccountName'), ' by ApiName = \"FlushFile\"')]",
													"titleKind":1,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													},
													"grouping":{
														"dimension":"ApiName",
														"sort":2,
														"top":10
													}
												}
											}
										}
									},
									"filters":{
										"ApiName":{
											"model":{
												"operator":"equals",
												"values":[
													"FlushFile"
												]
											}
										}
									}
								}
							},
							"5":{
								"position":{
									"x":10,
									"y":3,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Storage/storageAccounts/', parameters('IngestionStorageAccountName'))]"
															},
															"name":"Transactions",
															"aggregationType":1,
															"namespace":"microsoft.storage/storageaccounts",
															"metricVisualization":{
																"displayName":"Transactions"
															}
														}
													],
													"title":"[concat('Sum Transactions for ', parameters('IngestionStorageAccountName'),' by Response type')]",
													"titleKind":1,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													},
													"grouping":{
														"dimension":"ResponseType",
														"sort":2,
														"top":10
													}
												}
											}
										}
									}
								}
							},
							"6":{
								"position":{
									"x":0,
									"y":6,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '0')]"
															},
															"name":"customMetrics/dataingest Successes",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest Successes"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '0')]"
															},
															"name":"customMetrics/dataingest Failures",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest Failures"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '0')]"
															},
															"name":"customEvents/count",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"Events"
															}
														}
													],
													"title":"[concat('Sum dataingest Successes, Failures, and Events for ', parameters('IngestFuncName'), '0')]",
													"titleKind":1,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													}
												}
											}
										}
									}
								}
							},
							"7":{
								"position":{
									"x":5,
									"y":6,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '1')]"
															},
															"name":"dataingest Successes",
															"aggregationType":1,
															"namespace":"azure.applicationinsights",
															"metricVisualization":{
																"displayName":"dataingest Successes"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '1')]"
															},
															"name":"dataingest Failures",
															"aggregationType":1,
															"namespace":"azure.applicationinsights",
															"metricVisualization":{
																"displayName":"dataingest Failures"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '1')]"
															},
															"name":"customEvents/count",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"Events"
															}
														}
													],
													"title":"[concat('Sum dataingest Successes, Failures, and Events for ', parameters('IngestFuncName'), '1')]",
													"titleKind":2,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													}
												}
											}
										}
									}
								}
							},
							"8":{
								"position":{
									"x":10,
									"y":6,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '2')]"

															},
															"name":"customMetrics/dataingest Successes",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest Successes"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '2')]"
															},
															"name":"customMetrics/dataingest Failures",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest Failures"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '2')]"
															},
															"name":"customEvents/count",
															"aggregationType":1,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"Events"
															}
														}
													],
													"title":"[concat('Sum dataingest Successes, Failures, and Events for ', parameters('IngestFuncName'), '2')]",
													"titleKind":2,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
													}
												}
											}
										}
									}
								}
							},
							"9":{
								"position":{
									"x":15,
									"y":6,
									"colSpan":5,
									"rowSpan":3
								},
								"metadata":{
									"inputs":[
										{
											"name":"options",
											"isOptional":true
										},
										{
											"name":"sharedTimeRange",
											"isOptional":true
										}
									],
									"type":"Extension/HubsExtension/PartType/MonitorChartPart",
									"settings":{
										"content":{
											"options":{
												"chart":{
													"metrics":[
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '0')]"
															},
															"name":"customMetrics/dataingest AvgDurationMs",
															"aggregationType":3,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest AvgDurationMs"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '1')]"
															},
															"name":"customMetrics/dataingest AvgDurationMs",
															"aggregationType":3,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest AvgDurationMs"
															}
														},
														{
															"resourceMetadata":{
																"id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/microsoft.insights/components/', parameters('IngestFuncName'), '2')]"
															},
															"name":"customMetrics/dataingest AvgDurationMs",
															"aggregationType":3,
															"namespace":"microsoft.insights/components/kusto",
															"metricVisualization":{
																"displayName":"dataingest AvgDurationMs"
															}
														}
													],
													"title":"[concat('Max dataingest AvgDurationMs for ', parameters('IngestFuncName'), '0, ', parameters('IngestFuncName'), '1, and ', parameters('IngestFuncName'), '2')]",
													"titleKind":1,
													"visualization":{
														"chartType":2,
														"legendVisualization":{
															"isVisible":true,
															"position":2,
															"hideSubtitle":false
														},
														"axisVisualization":{
															"x":{
																"isVisible":true,
																"axisType":2
															},
															"y":{
																"isVisible":true,
																"axisType":1
															}
														},
														"disablePinning":true
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     },
                     "10":{
                        "position":{
                           "x":0,
                           "y":9,
                           "colSpan":5,
                           "rowSpan":3
                        },
                        "metadata":{
                           "inputs":[
                              {
                                 "name":"options",
                                 "isOptional":true
                              },
                              {
                                 "name":"sharedTimeRange",
                                 "isOptional":true
                              }
                           ],
                           "type":"Extension/HubsExtension/PartType/MonitorChartPart",
                           "settings":{
                              "content":{
                                 "options":{
                                    "chart":{
                                       "metrics":[
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"CPU",
                                             "aggregationType":4,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"CPU"
                                             }
                                          },
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"CPU",
                                             "aggregationType":3,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"CPU"
                                             }
                                          },
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"IngestionUtilization",
                                             "aggregationType":4,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Ingestion utilization"
                                             }
                                          },
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"IngestionUtilization",
                                             "aggregationType":3,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Ingestion utilization"
                                             }
                                          }
                                       ],
                                       "title":"[concat('Avg CPU, Avg Ingestion utilization, Max utilization for ', parameters('ADXClusterName'))]",
                                       "titleKind":2,
                                       "visualization":{
                                          "chartType":2,
                                          "legendVisualization":{
                                             "isVisible":true,
                                             "position":2,
                                             "hideSubtitle":false
                                          },
                                          "axisVisualization":{
                                             "x":{
                                                "isVisible":true,
                                                "axisType":2
                                             },
                                             "y":{
                                                "isVisible":true,
                                                "axisType":1
                                             }
                                          },
                                          "disablePinning":true
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     },
                     "11":{
                        "position":{
                           "x":5,
                           "y":9,
                           "colSpan":5,
                           "rowSpan":3
                        },
                        "metadata":{
                           "inputs":[
                              {
                                 "name":"options",
                                 "isOptional":true
                              },
                              {
                                 "name":"sharedTimeRange",
                                 "isOptional":true
                              }
                           ],
                           "type":"Extension/HubsExtension/PartType/MonitorChartPart",
                           "settings":{
                              "content":{
                                 "options":{
                                    "chart":{
                                       "metrics":[
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"IngestionLatencyInSeconds",
                                             "aggregationType":4,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Ingestion latency (in seconds)"
                                             }
                                          },
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"IngestionLatencyInSeconds",
                                             "aggregationType":3,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Ingestion latency (in seconds)"
                                             }
                                          }
                                       ],
                                       "title":"[concat('Avg/Max Ingestion latency for ', parameters('ADXClusterName'))]",
                                       "titleKind":2,
                                       "visualization":{
                                          "chartType":2,
                                          "legendVisualization":{
                                             "isVisible":true,
                                             "position":2,
                                             "hideSubtitle":false
                                          },
                                          "axisVisualization":{
                                             "x":{
                                                "isVisible":true,
                                                "axisType":2
                                             },
                                             "y":{
                                                "isVisible":true,
                                                "axisType":1
                                             }
                                          },
                                          "disablePinning":true
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     },
                     "12":{
                        "position":{
                           "x":10,
                           "y":9,
                           "colSpan":5,
                           "rowSpan":3
                        },
                        "metadata":{
                           "inputs":[
                              {
                                 "name":"options",
                                 "isOptional":true
                              },
                              {
                                 "name":"sharedTimeRange",
                                 "isOptional":true
                              }
                           ],
                           "type":"Extension/HubsExtension/PartType/MonitorChartPart",
                           "settings":{
                              "content":{
                                 "options":{
                                    "chart":{
                                       "metrics":[
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"IngestionResult",
                                             "aggregationType":7,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Ingestion result"
                                             }
                                          }
                                       ],
                                       "title":"[concat('Count Ingestion result for ', parameters('ADXClusterName'))]",
                                       "titleKind":1,
                                       "visualization":{
                                          "chartType":2,
                                          "legendVisualization":{
                                             "isVisible":true,
                                             "position":2,
                                             "hideSubtitle":false
                                          },
                                          "axisVisualization":{
                                             "x":{
                                                "isVisible":true,
                                                "axisType":2
                                             },
                                             "y":{
                                                "isVisible":true,
                                                "axisType":1
                                             }
                                          },
                                          "disablePinning":true
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     },
                     "13":{
                        "position":{
                           "x":15,
                           "y":9,
                           "colSpan":5,
                           "rowSpan":3
                        },
                        "metadata":{
                           "inputs":[
                              {
                                 "name":"options",
                                 "isOptional":true
                              },
                              {
                                 "name":"sharedTimeRange",
                                 "isOptional":true
                              }
                           ],
                           "type":"Extension/HubsExtension/PartType/MonitorChartPart",
                           "settings":{
                              "content":{
                                 "options":{
                                    "chart":{
                                       "metrics":[
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"KeepAlive",
                                             "aggregationType":4,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Keep alive"
                                             }
                                          },
                                          {
                                             "resourceMetadata":{
                                                "id":"[concat('/subscriptions/', subscription().subscriptionId,'/resourceGroups/', resourceGroup().name ,'/providers/Microsoft.Kusto/clusters/', parameters('ADXClusterName'))]"
                                             },
                                             "name":"InstanceCount",
                                             "aggregationType":2,
                                             "namespace":"microsoft.kusto/clusters",
                                             "metricVisualization":{
                                                "displayName":"Instance Count"
                                             }
                                          }
                                       ],
                                       "title":"[concat('Avg Keep alive and Min Instance Count for ', parameters('ADXClusterName'))]",
                                       "titleKind":1,
                                       "visualization":{
                                          "chartType":2,
                                          "legendVisualization":{
                                             "isVisible":true,
                                             "position":2,
                                             "hideSubtitle":false
                                          },
                                          "axisVisualization":{
                                             "x":{
                                                "isVisible":true,
                                                "axisType":2
                                             },
                                             "y":{
                                                "isVisible":true,
                                                "axisType":1
                                             }
                                          },
                                          "disablePinning":true
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            },
            "metadata":{
               "model":{
                  "timeRange":{
                     "value":{
                        "relative":{
                           "duration":24,
                           "timeUnit":1
                        }
                     },
                     "type":"MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
                  },
                  "filterLocale":{
                     "value":"en-us"
                  },
                  "filters":{
                     "value":{
                        "MsPortalFx_TimeRange":{
                           "model":{
                              "format":"local",
                              "granularity":"auto",
                              "relative":"5m"
                           },
                           "displayCache":{
                              "name":"Local Time",
                              "value":"Past 12 hours"
                           },
                           "filteredPartIds":[
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c474",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c476",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c478",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c47a",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c47c",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c47e",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c480",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c482",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c484",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c486",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c488",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c48a",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c48c",
                              "StartboardPart-MonitorChartPart-3d49ae1b-7cc5-46b4-aeec-72a5b171c48e"
                           ]
                        }
                     }
                  }
               }
            }
         },
         "name":"[parameters('DashboardName')]",
         "type":"Microsoft.Portal/dashboards",
         "location":"[resourceGroup().location]",
         "tags":{
            "hidden-title":"[parameters('DashboardName')]"
         },
         "apiVersion":"2015-08-01-preview"
      }
   ]
}